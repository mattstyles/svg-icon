/**
 * SVG-icon - v0.2.2-snapshot
 * Copyright (c) 2014 Matt Styles
 * License MIT
 */
!function(a,b){"object"==typeof exports?module.exports=b(require("lodash"),require("jquery")):"function"==typeof define&&define.amd?define(["lodash","jquery"],b):a.SVGIcon=b(a._,a.$)}(this,function(a,b){function c(a){function b(){var a=function(b){if("object"==typeof b)return a.extend(b,a);var c=document.querySelectorAll(b),e=[];return d.forEach.call(c,function(b){e.push(a.extend(b,a))}),e};return a.extend=function(a){return d.forEach.call(d.slice.call(arguments),function(b){if(b!==a)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a},a.replaceWith=function(a){var b=a;"string"==typeof a&&(b=document.createElement("div"),b.innerHTML=a,b=b.firstChild),this.parentElement.replaceChild(b,this)},a.ajax=function(b){b=a.extend({type:"GET",url:""},b);var c={done:function(a){return this.done=a,this},fail:function(a){return this.fail=a,this}},d=new XMLHttpRequest;return d.open(b.type,b.url,!0),d.onload=function(){return 200===d.status?void c.done(d.response,d.status,d):void c.fail()},d.onerror=function(a){c.fail(d,d.status,a)},d.send(),c},a}function c(){return{each:function(a,b,c){if(d.forEach)return d.forEach.call(a,b,c);for(var e=-1,f=a.length;(e+=1)<f&&b.call(c||null,a[e])!==!1;);},extend:function(a){return this.each(d.slice.call(arguments),function(b){if(b!==a)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}),a},find:function(a,b){for(var c=-1,d=a.length;(c+=1)<d;)if(b.call(null,a[c])===!0)return a[c];return null}}}var d=Array.prototype,e={jquery:b,lodash:c,"default":function(){console.log("Specified dependency for svg-icon not handled")}};return e[a]?e[a]():e["default"]()}function d(){var a=Array.prototype.slice.call(arguments),b=a.join("\\");return b.replace(/\\\//g,"/").replace(/\/\\/g,"/").replace(/\/\//g,"/").replace(/\\/g,"/")}var a=a||c("lodash"),b=b||c("jquery"),e=function(a){e.setOptions(a)};return a.extend(e,function(){var c={selfRegister:!0,basePath:"./"},e=[];return{VERSION:"0.2.2-snapshot",setOptions:function(b){return a.extend(c,b),c},getCachedItem:function(b){return a.find(e,function(a){return a.id===b.dataset.src})},injectCache:function(b){a.each(b.elements,function(a){this.injectSVG(a,b.content)},this)},injectSVG:function(a,c){if(b(a).replaceWith(c),a.dataset.onload){for(var d=a.dataset.onload.split("."),e=d.shift(),f=window;e;)f[e]&&(f=f[e]),e=d.shift();"function"==typeof f&&f()}},inject:function(f){if(c.selfRegister||f){var g=b(".icon");a.each(g,function(a){var f=this;if(!a.dataset.src)return void console.error("No URL specified for icon");var g=f.getCachedItem(a);return g?g.content?void this.injectSVG(a,g.content):void g.elements.push(a):(g||e.push({id:a.dataset.src,content:null,elements:[a]}),void b.ajax({type:"GET",url:a.dataset.src.match(/^http/)?a.dataset.src:d(c.basePath,a.dataset.src),dataType:"text"}).done(function(b){var c=null;iconClass=a.dataset.class||"",res=b.replace(/\r?\n|\r/g,"").replace(/<svg/,'<svg class="'+iconClass+'" ').match(/<svg(.*?)svg>/g).toString(),c=f.getCachedItem(a),c.content=res,f.injectCache(c)}).fail(function(a,b,c){console.log("xhr failed",b,c),console.log("Error loading icon",c)}))},this)}}}}()),document.addEventListener("DOMContentLoaded",function(){e.inject()}),e});